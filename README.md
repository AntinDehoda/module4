# Advanced CrewAI –∑ –°–ü–†–ê–í–ñ–ù–Ü–ú MCP Sequential Thinking

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è CrewAI –∞–≥–µ–Ω—Ç–∞ –∑:
- ‚ö° –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∏–º –∑–∞–ø—É—Å–∫–æ–º –∑–∞–¥–∞—á
- üß† **–°–ø—Ä–∞–≤–∂–Ω—å–æ—é** —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é MCP Sequential Thinking —Å–µ—Ä–≤–µ—Ä–∞
- üîç –†–µ–∞–ª—å–Ω–∏–º –ø–æ—à—É–∫–æ–º –Ω–æ–≤–∏–Ω —á–µ—Ä–µ–∑ DuckDuckGo

## üéØ –©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∞–≥–µ–Ω—Ç?

1. **–ü–∞—Ä–∞–ª–µ–ª—å–Ω–∏–π –ø–æ—à—É–∫** - —à—É–∫–∞—î –Ω–æ–≤–∏–Ω–∏ –∑ 3 –¥–∂–µ—Ä–µ–ª –æ–¥–Ω–æ—á–∞—Å–Ω–æ (BBC, CNN, Reuters)
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –∞–Ω–∞–ª—ñ–∑** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—Å–ø—Ä–∞–≤–∂–Ω—ñ–π MCP sequential-thinking —Å–µ—Ä–≤–µ—Ä** –¥–ª—è –≥–ª–∏–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É
3. **–°–∏–Ω—Ç–µ–∑ –≤–∏—Å–Ω–æ–≤–∫—ñ–≤** - –≥–µ–Ω–µ—Ä—É—î –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –∑–≤—ñ—Ç –∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏

## üî• –î–≤–∞ —Ä–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏

### 1Ô∏è‚É£ –°–ø—Ä–∞–≤–∂–Ω—ñ–π MCP —Å–µ—Ä–≤–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–ü—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ MCP sequential-thinking —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª:

```
CrewAI Agent ‚Üí MCP Bridge ‚Üí MCP Client ‚Üí MCP Server (npx/docker)
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –°–ø—Ä–∞–≤–∂–Ω—ñ–π MCP –ø—Ä–æ—Ç–æ–∫–æ–ª
- ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ü–æ–≤–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ MCP –µ–∫–æ—Å–∏—Å—Ç–µ–º–æ—é

**–í–∏–º–æ–≥–∏:**
- Node.js + npx (–¥–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞)
- –ê–±–æ Docker

### 2Ô∏è‚É£ –ü—Ä–æ—Å—Ç–∏–π Python wrapper (fallback)

–õ–æ–∫–∞–ª—å–Ω–∞ Python —ñ–º—ñ—Ç–∞—Ü—ñ—è sequential-thinking –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:

```
CrewAI Agent ‚Üí Simple Wrapper (Python)
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ù–µ–º–∞—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –≤—ñ–¥ Node.js
- ‚úÖ –®–≤–∏–¥—à–µ (–±–µ–∑ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤)
- ‚úÖ –ü—Ä–æ—Å—Ç—ñ—à–µ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–ø—Ä–∞–≤–∂–Ω—ñ–π MCP –ø—Ä–æ—Ç–æ–∫–æ–ª
- ‚ùå –û–±–º–µ–∂–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
module4/
‚îú‚îÄ‚îÄ README.md                        # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ requirements.txt                 # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ .env.example                     # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ config.py                        # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
‚îÇ
‚îú‚îÄ‚îÄ parallel_agent_with_mcp.py      # üéØ –û—Å–Ω–æ–≤–Ω–∏–π –∞–≥–µ–Ω—Ç (5 –∞–≥–µ–Ω—Ç—ñ–≤)
‚îÇ
‚îú‚îÄ‚îÄ mcp_client.py                   # –°–ø—Ä–∞–≤–∂–Ω—ñ–π MCP client (async)
‚îú‚îÄ‚îÄ mcp_bridge.py                   # –ú—ñ—Å—Ç async‚Üísync –¥–ª—è CrewAI
‚îî‚îÄ‚îÄ mcp_thinking_tool_simple.py     # –ü—Ä–æ—Å—Ç–∏–π wrapper (fallback)
```

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
pip install -r requirements.txt
```

### –ö—Ä–æ–∫ 2: Node.js (–¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—å–æ–≥–æ MCP)

**macOS (Homebrew):**
```bash
brew install node
```

**Ubuntu/Debian:**
```bash
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
```

**Windows:**
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑ [nodejs.org](https://nodejs.org/)

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
node --version   # –ü–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ v18+
npx --version    # –ü–æ–≤–∏–Ω–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
```

### –ö—Ä–æ–∫ 3: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

```bash
cp .env.example .env
```

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:
```bash
# –û–±–æ–≤'—è–∑–∫–æ–≤–æ
OPENAI_API_KEY=your-openai-api-key-here

# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π MCP?
USE_REAL_MCP=true    # true = —Å–ø—Ä–∞–≤–∂–Ω—ñ–π MCP, false = –ø—Ä–æ—Å—Ç–∏–π wrapper

# –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
DEFAULT_MODEL=gpt-4o-mini
TEMPERATURE=0.7
ENABLE_MCP_THINKING=true
MAX_SEARCH_RESULTS=3
```

## üéÆ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ —ñ–∑ —Å–ø—Ä–∞–≤–∂–Ω—ñ–º MCP

```bash
# 1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ USE_REAL_MCP=true –≤ .env
# 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∞–≥–µ–Ω—Ç–∞
python parallel_agent_with_mcp.py
```

–ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ npx.

### –ó–∞–ø—É—Å–∫ —ñ–∑ –ø—Ä–æ—Å—Ç–∏–º wrapper

```bash
# 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å USE_REAL_MCP=false –≤ .env
# 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∞–≥–µ–Ω—Ç–∞
python parallel_agent_with_mcp.py
```

### –ü—Ä–æ–≥—Ä–∞–º–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
from parallel_agent_with_mcp import run_advanced_analysis

# –ó MCP thinking
result = run_advanced_analysis(
    topic="quantum computing breakthrough",
    enable_thinking=True
)

print(result['result'])
print(f"–ß–∞—Å: {result['duration']:.2f}—Å")
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è MCP –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

### –¢–µ—Å—Ç MCP –∫–ª—ñ—î–Ω—Ç–∞

```bash
python mcp_client.py
```

–û—á—ñ–∫—É–≤–∞–Ω–∏–π –≤–∏–≤—ñ–¥:
```
üîå –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞...
‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ MCP Sequential Thinking —Å–µ—Ä–≤–µ—Ä–∞

üìã –î–æ—Å—Ç—É–ø–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:
  - sequential_thinking: ...

üß† –¢–µ—Å—Ç sequential thinking:
–ö—Ä–æ–∫ 1: ‚úì –ö—Ä–æ–∫ 1/3 –∑–∞–ø–∏—Å–∞–Ω–æ...
–ö—Ä–æ–∫ 2: ‚úì –ö—Ä–æ–∫ 2/3 –∑–∞–ø–∏—Å–∞–Ω–æ...
–ö—Ä–æ–∫ 3: ‚úì –ö—Ä–æ–∫ 3/3 –∑–∞–ø–∏—Å–∞–Ω–æ...

üîå –í—ñ–¥–∫–ª—é—á–µ–Ω–æ –≤—ñ–¥ MCP —Å–µ—Ä–≤–µ—Ä–∞
```

### –¢–µ—Å—Ç MCP bridge

```bash
python mcp_bridge.py
```

### –¢–µ—Å—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ wrapper

```bash
python mcp_thinking_tool_simple.py
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è MCP —Å–µ—Ä–≤–µ—Ä–∞

### –î–ª—è Claude Desktop

–î–æ–¥–∞–π—Ç–µ –≤ `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "sequential-thinking": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    }
  }
}
```

### –î–ª—è Docker

```json
{
  "mcpServers": {
    "sequentialthinking": {
      "command": "docker",
      "args": ["run", "--rm", "-i", "mcp/sequentialthinking"]
    }
  }
}
```

## üìä –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### 5-–ê–≥–µ–Ω—Ç–Ω–∞ —Å–∏—Å—Ç–µ–º–∞:

```
                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                      ‚îÇ  BBC News Researcher‚îÇ
                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚ñº          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CNN News Researcher‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ Senior News Analyst ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                      ‚îÇ  (–∑ MCP thinking)   ‚îÇ
                                 ‚ñ≤           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ                      ‚îÇ
                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚ñº
                      ‚îÇReuters News Res     ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ Report Synthesizer‚îÇ
                                                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö:

1. **Parallel Search** - 3 –∞–≥–µ–Ω—Ç–∏ —à—É–∫–∞—é—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ
2. **MCP Analysis** - –∞–Ω–∞–ª—ñ—Ç–∏–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î 5-–∫—Ä–æ–∫–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∏—Å–ª–µ–Ω–Ω—è
3. **Synthesis** - —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –∑ Executive Summary

## üêõ Troubleshooting

### "npx command not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** Node.js –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
**–†—ñ—à–µ–Ω–Ω—è:** –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Node.js (–¥–∏–≤. –ö—Ä–æ–∫ 2)

### "Cannot connect to MCP server"

**–ü—Ä–æ–±–ª–µ–º–∞:** MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–≤—Å—è
**–†—ñ—à–µ–Ω–Ω—è 1:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ npx:
```bash
npx -y @modelcontextprotocol/server-sequential-thinking --help
```

**–†—ñ—à–µ–Ω–Ω—è 2:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–æ—Å—Ç–∏–π wrapper:
```bash
# –í .env
USE_REAL_MCP=false
```

### "Module 'mcp' not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** MCP SDK –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
**–†—ñ—à–µ–Ω–Ω—è:**
```bash
pip install mcp>=1.0.0
```

### –ê–≥–µ–Ω—Ç –ø–æ–≤—ñ–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î

**–ü—Ä–∏—á–∏–Ω–∞:** MCP —Å–µ—Ä–≤–µ—Ä –¥–æ–¥–∞—î overhead –¥–ª—è –º—ñ–∂–ø—Ä–æ—Ü–µ—Å–Ω–æ—ó –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó
**–†—ñ—à–µ–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–æ—Å—Ç–∏–π wrapper –¥–ª—è —à–≤–∏–¥—à–∏—Ö —Ç–µ—Å—Ç—ñ–≤:
```bash
USE_REAL_MCP=false
```

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [MCP Sequential Thinking Server](https://github.com/modelcontextprotocol/servers/tree/main/src/sequentialthinking)
- [Model Context Protocol](https://modelcontextprotocol.io)
- [MCP Python SDK](https://github.com/modelcontextprotocol/python-sdk)
- [CrewAI Documentation](https://docs.crewai.com)

## üí° –ü–æ—Ä–∞–¥–∏

1. **–î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `USE_REAL_MCP=false` –¥–ª—è —à–≤–∏–¥—à–∏—Ö —Ç–µ—Å—Ç—ñ–≤
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `USE_REAL_MCP=true` –¥–ª—è –ø–æ–≤–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
3. **–î–ª—è CI/CD:** –ü—Ä–æ—Å—Ç–∏–π wrapper –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î Node.js –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ

## üìù License

MIT License - –¥–∏–≤—ñ—Ç—å—Å—è LICENSE —Ñ–∞–π–ª
